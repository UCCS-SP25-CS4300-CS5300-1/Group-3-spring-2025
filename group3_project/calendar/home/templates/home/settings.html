{% extends 'home/base.html' %}
{% block title %}Settings - Calendai{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>User Settings</h2>
    <p>{{ message }}</p>

    <!-- Changing password -->
    <h3>Change Password</h3>
    <p><a href="{% url 'password_change' %}" class="btn btn-secondary">Change Password</a></p>

    <!-- Delete assignment… -->
    <section>
    <h3>Delete a Custom Assignment</h3>
    {% if custom_events %}
        <form method="post">
        {% csrf_token %}
        <div class="mb-3">
            <label for="delete_event" class="form-label fw-bold">
            Select assignment to delete
            </label>
            <select name="delete_event" id="delete_event" class="form-select">
            {% for ev in custom_events %}
                <option value="{{ ev.pk }}">
                {{ ev.title }} (due {{ ev.due_date|date:"M d, Y h:ia" }})
                </option>
            {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-secondary">Delete Assignment</button>
        </form>
    {% else %}
        <p>You haven’t added any custom assignments yet.</p>
    {% endif %}
    </section>
</div>
{% endblock %}