{% extends "home/base.html" %}
{% load static %}

{% block title %}Home - Calendai{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
  <header class="text-center mb-8">
    <h1 class="text-4xl font-bold">Calendai</h1>
    <p class="text-gray-600">Your Canvas assignment tracker</p>
  </header>

  <section class="bg-white shadow-md rounded-lg p-6 mb-8">
    <h2 class="text-2xl font-semibold mb-4">Getting Started</h2>
    <ol class="list-decimal list-inside space-y-2 text-gray-700">
      <li>Sign into Canvas and copy the URL from your browser.</li>
      <li>In Canvas, go to <strong>Account &rarr; Settings &rarr; Approved Integrations</strong>.</li>
      <li>Generate a new Access Token and copy it.</li>
      <li>Paste the Canvas URL and API Token in the form below to fetch your assignments.</li>
    </ol>
  </section>

  <section class="bg-white shadow-md rounded-lg p-6 mb-8">
    <h2 class="text-2xl font-semibold mb-4">Connect to Canvas</h2>
    <form method="post" action="{% url 'fetch_assignments' %}" class="space-y-4">
      {% csrf_token %}
      <div>
        <label for="canvas_url" class="block text-sm font-medium text-gray-700">Canvas URL</label>
        <input type="url" name="canvas_url" id="canvas_url" required placeholder="https://canvas.yourschool.edu"
               class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
      </div>
      <div>
        <label for="api_token" class="block text-sm font-medium text-gray-700">API Token</label>
        <input type="password" name="api_token" id="api_token" required placeholder="Enter your API token"
               class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
      </div>
      <div class="flex space-x-4">
        <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700">Fetch Assignments</button>
        <form method="post" action="{% url 'wipe_saved' %}">
          {% csrf_token %}
          <button type="submit" class="px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600">Wipe Saved Data</button>
        </form>
      </div>
    </form>
  </section>

  <footer class="text-center text-sm text-gray-500">
    <p>
      Created by <a href="#" class="text-indigo-600 hover:underline">Alejandro Barragan Solis</a>,
      <a href="#" class="text-indigo-600 hover:underline">Carson King</a>,
      <a href="#" class="text-indigo-600 hover:underline">Brian Goins</a>,
      <a href="#" class="text-indigo-600 hover:underline">Aidan Meshberg</a>,
      <a href="#" class="text-indigo-600 hover:underline">Ashlee Paradis</a>
    </p>
    <p>Last updated: April 21, 2025</p>
  </footer>
</div>
{% endblock %}


